{"id":"25e3d073068c57b3","source_id_to_path":{"0":"src/ERC4337FactoryWrapper.sol","1":"src/Factory.sol","2":"src/Wallet.sol"},"language":"Solidity","_format":"ethers-rs-sol-build-info-1","input":{"version":"0.8.28","language":"Solidity","sources":{"src/ERC4337FactoryWrapper.sol":{"content":"// SPDX-License-Identifier: Apache-2.0\npragma solidity ^0.8.27;\n\nimport { Factory } from \"./Factory.sol\";\nimport { Wallet } from \"./Wallet.sol\";\n\n/// @title ERC4337FactoryWrapper\n/// @author Michael Standen\n/// @notice A factory wrapper that supports ERC-4337 restrictions.\ncontract ERC4337FactoryWrapper {\n\n  error NotSenderCreator();\n\n  Factory public immutable factory;\n  address public immutable senderCreator;\n\n  /// @notice Constructor\n  /// @param _factory Address of the factory\n  /// @param _senderCreator Address of the ERC-4337 entrypoint's sender creator\n  constructor(address _factory, address _senderCreator) {\n    factory = Factory(_factory);\n    senderCreator = _senderCreator;\n  }\n\n  /// @notice Deploy a new wallet instance\n  /// @param _mainModule Address of the main module to be used by the wallet\n  /// @param _salt Salt used to generate the wallet, which is the imageHash of the wallet's configuration.\n  /// @dev It is recommended to not have more than 200 signers as opcode repricing could make transactions impossible to execute as all the signers must be passed for each transaction.\n  /// @dev Only the senderCreator can deploy a wallet.\n  /// @return _contract The address of the deployed wallet\n  function deploy(address _mainModule, bytes32 _salt) public payable returns (address _contract) {\n    if (msg.sender != senderCreator) {\n      revert NotSenderCreator();\n    }\n    bytes memory code = abi.encodePacked(Wallet.creationCode, uint256(uint160(_mainModule)));\n    bytes32 bytecodeHash = keccak256(code);\n    address factoryAddress = address(factory);\n    // OpenZeppelin's Create2.computeAddress implementation\n    assembly (\"memory-safe\") {\n      let ptr := mload(0x40)\n      mstore(add(ptr, 0x40), bytecodeHash)\n      mstore(add(ptr, 0x20), _salt)\n      mstore(ptr, factoryAddress)\n      let start := add(ptr, 0x0b)\n      mstore8(start, 0xff)\n      _contract := and(keccak256(start, 85), 0xffffffffffffffffffffffffffffffffffffffff)\n    }\n    if (_contract.code.length > 0) {\n      return _contract;\n    }\n    return factory.deploy{ value: msg.value }(_mainModule, _salt);\n  }\n\n}\n"},"src/Factory.sol":{"content":"// SPDX-License-Identifier: Apache-2.0\npragma solidity ^0.8.27;\n\nimport \"./Wallet.sol\";\n\n/// @title Factory\n/// @author Agustin Aguilar, Michael Standen\n/// @notice Factory for deploying wallets\ncontract Factory {\n\n  /// @notice Error thrown when the deployment fails\n  error DeployFailed(address _mainModule, bytes32 _salt);\n\n  /// @notice Deploy a new wallet instance\n  /// @param _mainModule Address of the main module to be used by the wallet\n  /// @param _salt Salt used to generate the wallet, which is the imageHash of the wallet's configuration.\n  /// @dev It is recommended to not have more than 200 signers as opcode repricing could make transactions impossible to execute as all the signers must be passed for each transaction.\n  function deploy(address _mainModule, bytes32 _salt) public payable returns (address _contract) {\n    bytes memory code = abi.encodePacked(Wallet.creationCode, uint256(uint160(_mainModule)));\n    assembly {\n      _contract := create2(callvalue(), add(code, 32), mload(code), _salt)\n    }\n    if (_contract == address(0)) {\n      revert DeployFailed(_mainModule, _salt);\n    }\n  }\n\n}\n"},"src/Wallet.sol":{"content":"// SPDX-License-Identifier: Apache-2.0\npragma solidity ^0.8.0;\n\n/*\n// Delegate Proxy in Huff\n// @title Delegate Proxy\n// @notice Implements a proxy using the contract's own address to store the delegate target.\n//         Calls with calldata (with or without ETH value) are forwarded to the stored target.\n//         Calls sending only ETH without calldata do nothing and return immediately without forwarding.\n// @author Agusx1211\n#define macro CONSTRUCTOR() = takes (0) returns (0) {\n  0x41                   // [code + arg size] (code_size + 32)\n  __codeoffset(MAIN)     // [code_start, code + arg size]\n  returndatasize         // [0, code_start, code + arg size]\n  codecopy               // []\n\n  __codesize(MAIN)       // [code_size]\n  dup1                   // [code_size, code_size]\n  mload                  // [arg1, code_size]\n  address                // [address, arg1, code_size]\n  sstore                 // [code_size]\n\n  returndatasize         // [0, code_size]\n  return\n}\n\n#define macro MAIN() = takes(0) returns(0) {\n  returndatasize     // [0]\n  returndatasize     // [0, 0]\n  calldatasize       // [cs, 0, 0]\n  iszero             // [cs == 0, 0, 0]\n  callvalue          // [cv, cs == 0, 0, 0]\n  mul                // [cv * cs == 0, 0, 0]\n  success            // [nr, cv * cs == 0, 0, 0]\n  jumpi\n    calldatasize     // [cds, 0, 0]\n    returndatasize   // [0, cds, 0, 0]\n    returndatasize   // [0, 0, cds, 0, 0]\n    calldatacopy     // [0, 0]\n    returndatasize   // [0, 0, 0]\n    calldatasize     // [cds, 0, 0, 0]\n    returndatasize   // [0, cds, 0, 0, 0]\n    address          // [addr, 0, cds, 0, 0, 0]\n    sload            // [imp, 0, cds, 0, 0, 0]\n    gas              // [gas, imp, 0, cds, 0, 0, 0]\n    delegatecall     // [suc, 0]\n    returndatasize   // [rds, suc, 0]\n    dup3             // [0, rds, suc, 0]\n    dup1             // [0, 0, rds, suc, 0]\n    returndatacopy   // [suc, 0]\n    swap1            // [0, suc]\n    returndatasize   // [rds, 0, suc]\n    swap2            // [suc, 0, rds]\n    success          // [nr, suc, 0, rds]\n    jumpi\n      revert\n  success:\n    return\n}\n*/\n\nlibrary Wallet {\n\n  bytes internal constant creationCode =\n    hex\"6041600e3d396021805130553df33d3d36153402601f57363d3d373d363d30545af43d82803e903d91601f57fd5bf3\";\n\n}\n"}},"settings":{"remappings":["account-abstraction/=lib/account-abstraction/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","erc2470-libs/=lib/erc2470-libs/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":4294967295},"metadata":{"useLiteralContent":false,"bytecodeHash":"ipfs","appendCBOR":true},"outputSelection":{"src/ERC4337FactoryWrapper.sol":{"":["ast"],"*":["abi","evm.bytecode.object","evm.bytecode.sourceMap","evm.bytecode.linkReferences","evm.deployedBytecode.object","evm.deployedBytecode.sourceMap","evm.deployedBytecode.linkReferences","evm.deployedBytecode.immutableReferences","evm.methodIdentifiers","metadata"]},"src/Factory.sol":{"":["ast"],"*":["abi","evm.bytecode.object","evm.bytecode.sourceMap","evm.bytecode.linkReferences","evm.deployedBytecode.object","evm.deployedBytecode.sourceMap","evm.deployedBytecode.linkReferences","evm.deployedBytecode.immutableReferences","evm.methodIdentifiers","metadata"]},"src/Wallet.sol":{"":["ast"],"*":["abi","evm.bytecode.object","evm.bytecode.sourceMap","evm.bytecode.linkReferences","evm.deployedBytecode.object","evm.deployedBytecode.sourceMap","evm.deployedBytecode.linkReferences","evm.deployedBytecode.immutableReferences","evm.methodIdentifiers","metadata"]}},"evmVersion":"paris","viaIR":true,"libraries":{}},"allowPaths":["/home/agusx1211/workspaces/wallet-contracts-v3","/home/agusx1211/workspaces/wallet-contracts-v3/lib"],"basePath":"/home/agusx1211/workspaces/wallet-contracts-v3","includePaths":["/home/agusx1211/workspaces/wallet-contracts-v3"]},"output":{"contracts":{"src/ERC4337FactoryWrapper.sol":{"ERC4337FactoryWrapper":{"abi":[{"type":"constructor","inputs":[{"name":"_factory","type":"address","internalType":"address"},{"name":"_senderCreator","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"deploy","inputs":[{"name":"_mainModule","type":"address","internalType":"address"},{"name":"_salt","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"_contract","type":"address","internalType":"address"}],"stateMutability":"payable"},{"type":"function","name":"factory","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract Factory"}],"stateMutability":"view"},{"type":"function","name":"senderCreator","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"error","name":"NotSenderCreator","inputs":[]}],"metadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_factory\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_senderCreator\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"NotSenderCreator\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_mainModule\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"_salt\",\"type\":\"bytes32\"}],\"name\":\"deploy\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"_contract\",\"type\":\"address\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"factory\",\"outputs\":[{\"internalType\":\"contract Factory\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"senderCreator\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Michael Standen\",\"kind\":\"dev\",\"methods\":{\"constructor\":{\"params\":{\"_factory\":\"Address of the factory\",\"_senderCreator\":\"Address of the ERC-4337 entrypoint's sender creator\"}},\"deploy(address,bytes32)\":{\"details\":\"It is recommended to not have more than 200 signers as opcode repricing could make transactions impossible to execute as all the signers must be passed for each transaction.Only the senderCreator can deploy a wallet.\",\"params\":{\"_mainModule\":\"Address of the main module to be used by the wallet\",\"_salt\":\"Salt used to generate the wallet, which is the imageHash of the wallet's configuration.\"},\"returns\":{\"_contract\":\"The address of the deployed wallet\"}}},\"title\":\"ERC4337FactoryWrapper\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"constructor\":{\"notice\":\"Constructor\"},\"deploy(address,bytes32)\":{\"notice\":\"Deploy a new wallet instance\"}},\"notice\":\"A factory wrapper that supports ERC-4337 restrictions.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/ERC4337FactoryWrapper.sol\":\"ERC4337FactoryWrapper\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":4294967295},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":account-abstraction/=lib/account-abstraction/contracts/\",\":erc2470-libs/=lib/erc2470-libs/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"src/ERC4337FactoryWrapper.sol\":{\"keccak256\":\"0x3fdc52cacbc889b5e19ab36db5b7c9ce2df1dc5a48789a9c044856bac39a170d\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://894460d855af87c46fa1304f348d3aaae876a0c30395d64e0ea9f11271e42411\",\"dweb:/ipfs/QmWkYZuUHHuHgSe4Pqz2kyDpLwPKMmJds9XJ2Yh6SKxxiA\"]},\"src/Factory.sol\":{\"keccak256\":\"0x5924fe583809e9c148d47c871866f6094599bb07a4d1fc2d60c814fda9c37f46\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://e24d3575bf2606cd5f0f6da093e420118e018549eeb3a4ccb94f57c0e285e123\",\"dweb:/ipfs/QmRvWQt91YLJEgk5hgnRkPjDdB39tUHLYtxijYyXKdCm5J\"]},\"src/Wallet.sol\":{\"keccak256\":\"0xe01e9e937dd8d7572976ccc8ec3ec87e4a557069dafb05f85977a7b71f5c58d5\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://2e9ab78d33655f8e822258dff3f2d5ad01e84f6dc90174840d5a283b8e6413c1\",\"dweb:/ipfs/QmNMyYe3C1fs3cxKmUZ3S9VU5EE4WVWPVcwiGbgvbS1vrH\"]}},\"version\":1}","userdoc":{},"devdoc":{},"evm":{"bytecode":{"object":"60c03461009157601f61054538819003918201601f19168301916001600160401b0383118484101761009657808492604094855283398101031261009157610052602061004b836100ac565b92016100ac565b6001600160a01b0390911660805260a05260405161048490816100c18239608051818181608b0152610317015260a05181818161017401526102200152f35b600080fd5b634e487b7160e01b600052604160045260246000fd5b51906001600160a01b03821682036100915756fe608080604052600436101561001357600080fd5b60003560e01c90816309ccb8801461012b5750806332c02a14146100b45763c45a01551461004057600080fd5b346100af5760007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100af57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100af5760043573ffffffffffffffffffffffffffffffffffffffff811681036100af5761010d60209160243590610208565b73ffffffffffffffffffffffffffffffffffffffff60405191168152f35b346100af5760007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100af5760209073ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff8211176101d957604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b9073ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001633036104245760405191606083019083821067ffffffffffffffff8311176101d95773ffffffffffffffffffffffffffffffffffffffff91604052602f84527f6041600e3d396021805130553df33d3d36153402601f57363d3d373d363d305460208501527f5af43d82803e903d91601f57fd5bf30000000000000000000000000000000000604085015216916040519060005b602f811061040f57505082604f820152604f81526102f3606f82610198565b602081519101209173ffffffffffffffffffffffffffffffffffffffff6055600b827f000000000000000000000000000000000000000000000000000000000000000016956040519060408201528560208201528681520160ff81532016803b610408575090604460209260405194859384927f32c02a140000000000000000000000000000000000000000000000000000000084526004840152602483015234905af19081156103fc576000916103a9575090565b6020813d6020116103f4575b816103c260209383610198565b810103126103f057519073ffffffffffffffffffffffffffffffffffffffff821682036103ed575090565b80fd5b5080fd5b3d91506103b5565b6040513d6000823e3d90fd5b9250505090565b806020809284010151828286010152016102d4565b7fe23604a00000000000000000000000000000000000000000000000000000000060005260046000fdfea2646970667358221220f5e9586fa4921a327df8b996373cb2aeedb2cdc878ca6fbb593bf4bd57bb62bf64736f6c634300081c0033","sourceMap":"274:1842:0:-:0;;;;;;;;;;;;;-1:-1:-1;;274:1842:0;;;;-1:-1:-1;;;;;274:1842:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;:::i;:::-;-1:-1:-1;;;;;274:1842:0;;;629:27;;274:1842;662:30;274:1842;;;;;;;;629:27;274:1842;;;;;;;;;;662:30;274:1842;;;;;;;;;;;;-1:-1:-1;274:1842:0;;;;;;-1:-1:-1;274:1842:0;;;;;-1:-1:-1;274:1842:0;;;;-1:-1:-1;;;;;274:1842:0;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"608080604052600436101561001357600080fd5b60003560e01c90816309ccb8801461012b5750806332c02a14146100b45763c45a01551461004057600080fd5b346100af5760007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100af57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100af5760043573ffffffffffffffffffffffffffffffffffffffff811681036100af5761010d60209160243590610208565b73ffffffffffffffffffffffffffffffffffffffff60405191168152f35b346100af5760007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100af5760209073ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff8211176101d957604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b9073ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001633036104245760405191606083019083821067ffffffffffffffff8311176101d95773ffffffffffffffffffffffffffffffffffffffff91604052602f84527f6041600e3d396021805130553df33d3d36153402601f57363d3d373d363d305460208501527f5af43d82803e903d91601f57fd5bf30000000000000000000000000000000000604085015216916040519060005b602f811061040f57505082604f820152604f81526102f3606f82610198565b602081519101209173ffffffffffffffffffffffffffffffffffffffff6055600b827f000000000000000000000000000000000000000000000000000000000000000016956040519060408201528560208201528681520160ff81532016803b610408575090604460209260405194859384927f32c02a140000000000000000000000000000000000000000000000000000000084526004840152602483015234905af19081156103fc576000916103a9575090565b6020813d6020116103f4575b816103c260209383610198565b810103126103f057519073ffffffffffffffffffffffffffffffffffffffff821682036103ed575090565b80fd5b5080fd5b3d91506103b5565b6040513d6000823e3d90fd5b9250505090565b806020809284010151828286010152016102d4565b7fe23604a00000000000000000000000000000000000000000000000000000000060005260046000fdfea2646970667358221220f5e9586fa4921a327df8b996373cb2aeedb2cdc878ca6fbb593bf4bd57bb62bf64736f6c634300081c0033","sourceMap":"274:1842:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;339:32;274:1842;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;375:38;274:1842;375:38;274:1842;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;-1:-1:-1;274:1842:0;;;;;-1:-1:-1;274:1842:0;1227:886;;274:1842;1346:13;274:1842;1332:10;:27;1328:73;;274:1842;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2177:99:2;-1:-1:-1;2177:99:2;274:1842:0;2177:99:2;;;;;;;;;;;1426:68:0;;;;;;;:::i;:::-;274:1842;2177:99:2;;1426:68:0;;1523:15;1577:7;274:1842;1651:324;;1577:7;;274:1842;1651:324;274:1842;1651:324;;274:1842;1651:324;;;;274:1842;1651:324;;;;;;;;;;;;1984:21;;1980:62;;274:1842;;2054:54;274:1842;;;;2054:54;;;;;2177:99:2;2054:54:0;;;;;274:1842;2177:99:2;;;;2077:9:0;2054:54;;;;;;;;-1:-1:-1;2054:54:0;;;2047:61;1227:886;:::o;2054:54::-;274:1842;2054:54;;274:1842;2054:54;;;;;;274:1842;2054:54;;;:::i;:::-;;;2177:99:2;;;;;274:1842:0;;;;;;;;2054:54;1227:886;:::o;274:1842::-;;;2177:99:2;274:1842:0;;;2054:54;;;-1:-1:-1;2054:54:0;;;274:1842;;2177:99:2;-1:-1:-1;2177:99:2;;;;;1980:62:0;2019:16;;;;;:::o;2177:99:2:-;;274:1842:0;2177:99:2;;;;;;;;;;;;;;;1328:73:0;1376:18;;;;;","linkReferences":{},"immutableReferences":{"11":[{"start":139,"length":32},{"start":791,"length":32}],"13":[{"start":372,"length":32},{"start":544,"length":32}]}},"methodIdentifiers":{"deploy(address,bytes32)":"32c02a14","factory()":"c45a0155","senderCreator()":"09ccb880"}}}},"src/Factory.sol":{"Factory":{"abi":[{"type":"function","name":"deploy","inputs":[{"name":"_mainModule","type":"address","internalType":"address"},{"name":"_salt","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"_contract","type":"address","internalType":"address"}],"stateMutability":"payable"},{"type":"error","name":"DeployFailed","inputs":[{"name":"_mainModule","type":"address","internalType":"address"},{"name":"_salt","type":"bytes32","internalType":"bytes32"}]}],"metadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_mainModule\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"_salt\",\"type\":\"bytes32\"}],\"name\":\"DeployFailed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_mainModule\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"_salt\",\"type\":\"bytes32\"}],\"name\":\"deploy\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"_contract\",\"type\":\"address\"}],\"stateMutability\":\"payable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Agustin Aguilar, Michael Standen\",\"kind\":\"dev\",\"methods\":{\"deploy(address,bytes32)\":{\"details\":\"It is recommended to not have more than 200 signers as opcode repricing could make transactions impossible to execute as all the signers must be passed for each transaction.\",\"params\":{\"_mainModule\":\"Address of the main module to be used by the wallet\",\"_salt\":\"Salt used to generate the wallet, which is the imageHash of the wallet's configuration.\"}}},\"title\":\"Factory\",\"version\":1},\"userdoc\":{\"errors\":{\"DeployFailed(address,bytes32)\":[{\"notice\":\"Error thrown when the deployment fails\"}]},\"kind\":\"user\",\"methods\":{\"deploy(address,bytes32)\":{\"notice\":\"Deploy a new wallet instance\"}},\"notice\":\"Factory for deploying wallets\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/Factory.sol\":\"Factory\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":4294967295},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":account-abstraction/=lib/account-abstraction/contracts/\",\":erc2470-libs/=lib/erc2470-libs/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"src/Factory.sol\":{\"keccak256\":\"0x5924fe583809e9c148d47c871866f6094599bb07a4d1fc2d60c814fda9c37f46\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://e24d3575bf2606cd5f0f6da093e420118e018549eeb3a4ccb94f57c0e285e123\",\"dweb:/ipfs/QmRvWQt91YLJEgk5hgnRkPjDdB39tUHLYtxijYyXKdCm5J\"]},\"src/Wallet.sol\":{\"keccak256\":\"0xe01e9e937dd8d7572976ccc8ec3ec87e4a557069dafb05f85977a7b71f5c58d5\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://2e9ab78d33655f8e822258dff3f2d5ad01e84f6dc90174840d5a283b8e6413c1\",\"dweb:/ipfs/QmNMyYe3C1fs3cxKmUZ3S9VU5EE4WVWPVcwiGbgvbS1vrH\"]}},\"version\":1}","userdoc":{},"devdoc":{},"evm":{"bytecode":{"object":"6080806040523460155761029b908161001b8239f35b600080fdfe6080604052600436101561001257600080fd5b60003560e01c6332c02a141461002757600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261019f5760043573ffffffffffffffffffffffffffffffffffffffff811680820361019f5760243580916100eb6101176040519261008a846101d3565b602f84527f6041600e3d396021805130553df33d3d36153402601f57363d3d373d363d305460208501527f5af43d82803e903d91601f57fd5bf300000000000000000000000000000000006040850152604051928391602083019586610235565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe081018352826101f4565b519034f59173ffffffffffffffffffffffffffffffffffffffff8316156101595760405173ffffffffffffffffffffffffffffffffffffffff84168152602090f35b7f8caac8050000000000000000000000000000000000000000000000000000000060005273ffffffffffffffffffffffffffffffffffffffff1660045260245260446000fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6060810190811067ffffffffffffffff8211176101ef57604052565b6101a4565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff8211176101ef57604052565b9291909283519060005b8281106102525750019081526020019150565b806020809288010151818401520161023f56fea264697066735822122005bdba354528578c2c97606e359fcb9bc11fce26727223daf4f9db7c006cb1f664736f6c634300081c0033","sourceMap":"195:927:1:-:0;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"6080604052600436101561001257600080fd5b60003560e01c6332c02a141461002757600080fd5b60407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261019f5760043573ffffffffffffffffffffffffffffffffffffffff811680820361019f5760243580916100eb6101176040519261008a846101d3565b602f84527f6041600e3d396021805130553df33d3d36153402601f57363d3d373d363d305460208501527f5af43d82803e903d91601f57fd5bf300000000000000000000000000000000006040850152604051928391602083019586610235565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe081018352826101f4565b519034f59173ffffffffffffffffffffffffffffffffffffffff8316156101595760405173ffffffffffffffffffffffffffffffffffffffff84168152602090f35b7f8caac8050000000000000000000000000000000000000000000000000000000060005273ffffffffffffffffffffffffffffffffffffffff1660045260245260446000fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6060810190811067ffffffffffffffff8211176101ef57604052565b6101a4565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff8211176101ef57604052565b9291909283519060005b8281106102525750019081526020019150565b806020809288010151818401520161023f56fea264697066735822122005bdba354528578c2c97606e359fcb9bc11fce26727223daf4f9db7c006cb1f664736f6c634300081c0033","sourceMap":"195:927:1:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;862:68;;195:927;;;;;;:::i;:::-;;;;;;;;;;;;;;;;862:68;;;195:927;862:68;;;;;:::i;:::-;;195:927;862:68;;;;;;:::i;:::-;936:91;;;;195:927;;;;1036:23;1032:83;;195:927;;;;;;;;;;1032:83;1076:32;195:927;1076:32;195:927;;;;2177:99:2;;;195:927:1;1076:32;195:927;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;:::i;:::-;;;;;;;;;;;;;;;;;;;;:::o;2177:99:2:-;;;;;;;;-1:-1:-1;2177:99:2;;;;;;-1:-1:-1;2177:99:2;;;;;;;-1:-1:-1;2177:99:2:o;:::-;;;;;;;;;;;;;;;","linkReferences":{}},"methodIdentifiers":{"deploy(address,bytes32)":"32c02a14"}}}},"src/Wallet.sol":{"Wallet":{"abi":[],"metadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/Wallet.sol\":\"Wallet\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":4294967295},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":account-abstraction/=lib/account-abstraction/contracts/\",\":erc2470-libs/=lib/erc2470-libs/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"src/Wallet.sol\":{\"keccak256\":\"0xe01e9e937dd8d7572976ccc8ec3ec87e4a557069dafb05f85977a7b71f5c58d5\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://2e9ab78d33655f8e822258dff3f2d5ad01e84f6dc90174840d5a283b8e6413c1\",\"dweb:/ipfs/QmNMyYe3C1fs3cxKmUZ3S9VU5EE4WVWPVcwiGbgvbS1vrH\"]}},\"version\":1}","userdoc":{},"devdoc":{},"evm":{"bytecode":{"object":"60808060405234601757603a9081601d823930815050f35b600080fdfe600080fdfea26469706673582212204e0039ed40bc7764691e0f5712d24e9ff86e3bbce0c5fc08fedfd455a2b3fb0f64736f6c634300081c0033","sourceMap":"2114:166:2:-:0;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"600080fdfea26469706673582212204e0039ed40bc7764691e0f5712d24e9ff86e3bbce0c5fc08fedfd455a2b3fb0f64736f6c634300081c0033","sourceMap":"2114:166:2:-:0;;","linkReferences":{}}}}}},"sources":{"src/ERC4337FactoryWrapper.sol":{"id":0,"ast":{"absolutePath":"src/ERC4337FactoryWrapper.sol","id":101,"exportedSymbols":{"ERC4337FactoryWrapper":[100],"Factory":[152],"Wallet":[158]},"nodeType":"SourceUnit","src":"39:2078:0","nodes":[{"id":1,"nodeType":"PragmaDirective","src":"39:24:0","nodes":[],"literals":["solidity","^","0.8",".27"]},{"id":3,"nodeType":"ImportDirective","src":"65:40:0","nodes":[],"absolutePath":"src/Factory.sol","file":"./Factory.sol","nameLocation":"-1:-1:-1","scope":101,"sourceUnit":153,"symbolAliases":[{"foreign":{"id":2,"name":"Factory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":152,"src":"74:7:0","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":5,"nodeType":"ImportDirective","src":"106:38:0","nodes":[],"absolutePath":"src/Wallet.sol","file":"./Wallet.sol","nameLocation":"-1:-1:-1","scope":101,"sourceUnit":159,"symbolAliases":[{"foreign":{"id":4,"name":"Wallet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":158,"src":"115:6:0","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":100,"nodeType":"ContractDefinition","src":"274:1842:0","nodes":[{"id":8,"nodeType":"ErrorDefinition","src":"310:25:0","nodes":[],"errorSelector":"e23604a0","name":"NotSenderCreator","nameLocation":"316:16:0","parameters":{"id":7,"nodeType":"ParameterList","parameters":[],"src":"332:2:0"}},{"id":11,"nodeType":"VariableDeclaration","src":"339:32:0","nodes":[],"constant":false,"functionSelector":"c45a0155","mutability":"immutable","name":"factory","nameLocation":"364:7:0","scope":100,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_Factory_$152","typeString":"contract Factory"},"typeName":{"id":10,"nodeType":"UserDefinedTypeName","pathNode":{"id":9,"name":"Factory","nameLocations":["339:7:0"],"nodeType":"IdentifierPath","referencedDeclaration":152,"src":"339:7:0"},"referencedDeclaration":152,"src":"339:7:0","typeDescriptions":{"typeIdentifier":"t_contract$_Factory_$152","typeString":"contract Factory"}},"visibility":"public"},{"id":13,"nodeType":"VariableDeclaration","src":"375:38:0","nodes":[],"constant":false,"functionSelector":"09ccb880","mutability":"immutable","name":"senderCreator","nameLocation":"400:13:0","scope":100,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":12,"name":"address","nodeType":"ElementaryTypeName","src":"375:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":32,"nodeType":"FunctionDefinition","src":"569:128:0","nodes":[],"body":{"id":31,"nodeType":"Block","src":"623:74:0","nodes":[],"statements":[{"expression":{"id":25,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":21,"name":"factory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11,"src":"629:7:0","typeDescriptions":{"typeIdentifier":"t_contract$_Factory_$152","typeString":"contract Factory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":23,"name":"_factory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16,"src":"647:8:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":22,"name":"Factory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":152,"src":"639:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Factory_$152_$","typeString":"type(contract Factory)"}},"id":24,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"639:17:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_Factory_$152","typeString":"contract Factory"}},"src":"629:27:0","typeDescriptions":{"typeIdentifier":"t_contract$_Factory_$152","typeString":"contract Factory"}},"id":26,"nodeType":"ExpressionStatement","src":"629:27:0"},{"expression":{"id":29,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":27,"name":"senderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13,"src":"662:13:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":28,"name":"_senderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18,"src":"678:14:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"662:30:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":30,"nodeType":"ExpressionStatement","src":"662:30:0"}]},"documentation":{"id":14,"nodeType":"StructuredDocumentation","src":"418:148:0","text":"@notice Constructor\n @param _factory Address of the factory\n @param _senderCreator Address of the ERC-4337 entrypoint's sender creator"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":19,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16,"mutability":"mutable","name":"_factory","nameLocation":"589:8:0","nodeType":"VariableDeclaration","scope":32,"src":"581:16:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":15,"name":"address","nodeType":"ElementaryTypeName","src":"581:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":18,"mutability":"mutable","name":"_senderCreator","nameLocation":"607:14:0","nodeType":"VariableDeclaration","scope":32,"src":"599:22:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":17,"name":"address","nodeType":"ElementaryTypeName","src":"599:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"580:42:0"},"returnParameters":{"id":20,"nodeType":"ParameterList","parameters":[],"src":"623:0:0"},"scope":100,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":99,"nodeType":"FunctionDefinition","src":"1227:886:0","nodes":[],"body":{"id":98,"nodeType":"Block","src":"1322:791:0","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":45,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":42,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"1332:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":43,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1336:6:0","memberName":"sender","nodeType":"MemberAccess","src":"1332:10:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":44,"name":"senderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13,"src":"1346:13:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1332:27:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50,"nodeType":"IfStatement","src":"1328:73:0","trueBody":{"id":49,"nodeType":"Block","src":"1361:40:0","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":46,"name":"NotSenderCreator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8,"src":"1376:16:0","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":47,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1376:18:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":48,"nodeType":"RevertStatement","src":"1369:25:0"}]}},{"assignments":[52],"declarations":[{"constant":false,"id":52,"mutability":"mutable","name":"code","nameLocation":"1419:4:0","nodeType":"VariableDeclaration","scope":98,"src":"1406:17:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":51,"name":"bytes","nodeType":"ElementaryTypeName","src":"1406:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":65,"initialValue":{"arguments":[{"expression":{"id":55,"name":"Wallet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":158,"src":"1443:6:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Wallet_$158_$","typeString":"type(library Wallet)"}},"id":56,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1450:12:0","memberName":"creationCode","nodeType":"MemberAccess","referencedDeclaration":157,"src":"1443:19:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"arguments":[{"arguments":[{"id":61,"name":"_mainModule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35,"src":"1480:11:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":60,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1472:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":59,"name":"uint160","nodeType":"ElementaryTypeName","src":"1472:7:0","typeDescriptions":{}}},"id":62,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1472:20:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"}],"id":58,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1464:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":57,"name":"uint256","nodeType":"ElementaryTypeName","src":"1464:7:0","typeDescriptions":{}}},"id":63,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1464:29:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1426:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":54,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1430:12:0","memberName":"encodePacked","nodeType":"MemberAccess","src":"1426:16:0","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":64,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1426:68:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"1406:88:0"},{"assignments":[67],"declarations":[{"constant":false,"id":67,"mutability":"mutable","name":"bytecodeHash","nameLocation":"1508:12:0","nodeType":"VariableDeclaration","scope":98,"src":"1500:20:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":66,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1500:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":71,"initialValue":{"arguments":[{"id":69,"name":"code","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52,"src":"1533:4:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":68,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"1523:9:0","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":70,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1523:15:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"1500:38:0"},{"assignments":[73],"declarations":[{"constant":false,"id":73,"mutability":"mutable","name":"factoryAddress","nameLocation":"1552:14:0","nodeType":"VariableDeclaration","scope":98,"src":"1544:22:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":72,"name":"address","nodeType":"ElementaryTypeName","src":"1544:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":78,"initialValue":{"arguments":[{"id":76,"name":"factory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11,"src":"1577:7:0","typeDescriptions":{"typeIdentifier":"t_contract$_Factory_$152","typeString":"contract Factory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Factory_$152","typeString":"contract Factory"}],"id":75,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1569:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":74,"name":"address","nodeType":"ElementaryTypeName","src":"1569:7:0","typeDescriptions":{}}},"id":77,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1569:16:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"1544:41:0"},{"AST":{"nativeSrc":"1676:299:0","nodeType":"YulBlock","src":"1676:299:0","statements":[{"nativeSrc":"1684:22:0","nodeType":"YulVariableDeclaration","src":"1684:22:0","value":{"arguments":[{"kind":"number","nativeSrc":"1701:4:0","nodeType":"YulLiteral","src":"1701:4:0","type":"","value":"0x40"}],"functionName":{"name":"mload","nativeSrc":"1695:5:0","nodeType":"YulIdentifier","src":"1695:5:0"},"nativeSrc":"1695:11:0","nodeType":"YulFunctionCall","src":"1695:11:0"},"variables":[{"name":"ptr","nativeSrc":"1688:3:0","nodeType":"YulTypedName","src":"1688:3:0","type":""}]},{"expression":{"arguments":[{"arguments":[{"name":"ptr","nativeSrc":"1724:3:0","nodeType":"YulIdentifier","src":"1724:3:0"},{"kind":"number","nativeSrc":"1729:4:0","nodeType":"YulLiteral","src":"1729:4:0","type":"","value":"0x40"}],"functionName":{"name":"add","nativeSrc":"1720:3:0","nodeType":"YulIdentifier","src":"1720:3:0"},"nativeSrc":"1720:14:0","nodeType":"YulFunctionCall","src":"1720:14:0"},{"name":"bytecodeHash","nativeSrc":"1736:12:0","nodeType":"YulIdentifier","src":"1736:12:0"}],"functionName":{"name":"mstore","nativeSrc":"1713:6:0","nodeType":"YulIdentifier","src":"1713:6:0"},"nativeSrc":"1713:36:0","nodeType":"YulFunctionCall","src":"1713:36:0"},"nativeSrc":"1713:36:0","nodeType":"YulExpressionStatement","src":"1713:36:0"},{"expression":{"arguments":[{"arguments":[{"name":"ptr","nativeSrc":"1767:3:0","nodeType":"YulIdentifier","src":"1767:3:0"},{"kind":"number","nativeSrc":"1772:4:0","nodeType":"YulLiteral","src":"1772:4:0","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"1763:3:0","nodeType":"YulIdentifier","src":"1763:3:0"},"nativeSrc":"1763:14:0","nodeType":"YulFunctionCall","src":"1763:14:0"},{"name":"_salt","nativeSrc":"1779:5:0","nodeType":"YulIdentifier","src":"1779:5:0"}],"functionName":{"name":"mstore","nativeSrc":"1756:6:0","nodeType":"YulIdentifier","src":"1756:6:0"},"nativeSrc":"1756:29:0","nodeType":"YulFunctionCall","src":"1756:29:0"},"nativeSrc":"1756:29:0","nodeType":"YulExpressionStatement","src":"1756:29:0"},{"expression":{"arguments":[{"name":"ptr","nativeSrc":"1799:3:0","nodeType":"YulIdentifier","src":"1799:3:0"},{"name":"factoryAddress","nativeSrc":"1804:14:0","nodeType":"YulIdentifier","src":"1804:14:0"}],"functionName":{"name":"mstore","nativeSrc":"1792:6:0","nodeType":"YulIdentifier","src":"1792:6:0"},"nativeSrc":"1792:27:0","nodeType":"YulFunctionCall","src":"1792:27:0"},"nativeSrc":"1792:27:0","nodeType":"YulExpressionStatement","src":"1792:27:0"},{"nativeSrc":"1826:27:0","nodeType":"YulVariableDeclaration","src":"1826:27:0","value":{"arguments":[{"name":"ptr","nativeSrc":"1843:3:0","nodeType":"YulIdentifier","src":"1843:3:0"},{"kind":"number","nativeSrc":"1848:4:0","nodeType":"YulLiteral","src":"1848:4:0","type":"","value":"0x0b"}],"functionName":{"name":"add","nativeSrc":"1839:3:0","nodeType":"YulIdentifier","src":"1839:3:0"},"nativeSrc":"1839:14:0","nodeType":"YulFunctionCall","src":"1839:14:0"},"variables":[{"name":"start","nativeSrc":"1830:5:0","nodeType":"YulTypedName","src":"1830:5:0","type":""}]},{"expression":{"arguments":[{"name":"start","nativeSrc":"1868:5:0","nodeType":"YulIdentifier","src":"1868:5:0"},{"kind":"number","nativeSrc":"1875:4:0","nodeType":"YulLiteral","src":"1875:4:0","type":"","value":"0xff"}],"functionName":{"name":"mstore8","nativeSrc":"1860:7:0","nodeType":"YulIdentifier","src":"1860:7:0"},"nativeSrc":"1860:20:0","nodeType":"YulFunctionCall","src":"1860:20:0"},"nativeSrc":"1860:20:0","nodeType":"YulExpressionStatement","src":"1860:20:0"},{"nativeSrc":"1887:82:0","nodeType":"YulAssignment","src":"1887:82:0","value":{"arguments":[{"arguments":[{"name":"start","nativeSrc":"1914:5:0","nodeType":"YulIdentifier","src":"1914:5:0"},{"kind":"number","nativeSrc":"1921:2:0","nodeType":"YulLiteral","src":"1921:2:0","type":"","value":"85"}],"functionName":{"name":"keccak256","nativeSrc":"1904:9:0","nodeType":"YulIdentifier","src":"1904:9:0"},"nativeSrc":"1904:20:0","nodeType":"YulFunctionCall","src":"1904:20:0"},{"kind":"number","nativeSrc":"1926:42:0","nodeType":"YulLiteral","src":"1926:42:0","type":"","value":"0xffffffffffffffffffffffffffffffffffffffff"}],"functionName":{"name":"and","nativeSrc":"1900:3:0","nodeType":"YulIdentifier","src":"1900:3:0"},"nativeSrc":"1900:69:0","nodeType":"YulFunctionCall","src":"1900:69:0"},"variableNames":[{"name":"_contract","nativeSrc":"1887:9:0","nodeType":"YulIdentifier","src":"1887:9:0"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":40,"isOffset":false,"isSlot":false,"src":"1887:9:0","valueSize":1},{"declaration":37,"isOffset":false,"isSlot":false,"src":"1779:5:0","valueSize":1},{"declaration":67,"isOffset":false,"isSlot":false,"src":"1736:12:0","valueSize":1},{"declaration":73,"isOffset":false,"isSlot":false,"src":"1804:14:0","valueSize":1}],"flags":["memory-safe"],"id":79,"nodeType":"InlineAssembly","src":"1651:324:0"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":84,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"id":80,"name":"_contract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40,"src":"1984:9:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":81,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1994:4:0","memberName":"code","nodeType":"MemberAccess","src":"1984:14:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":82,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1999:6:0","memberName":"length","nodeType":"MemberAccess","src":"1984:21:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":83,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2008:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1984:25:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":88,"nodeType":"IfStatement","src":"1980:62:0","trueBody":{"id":87,"nodeType":"Block","src":"2011:31:0","statements":[{"expression":{"id":85,"name":"_contract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40,"src":"2026:9:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":41,"id":86,"nodeType":"Return","src":"2019:16:0"}]}},{"expression":{"arguments":[{"id":94,"name":"_mainModule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35,"src":"2089:11:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":95,"name":"_salt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":37,"src":"2102:5:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":89,"name":"factory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11,"src":"2054:7:0","typeDescriptions":{"typeIdentifier":"t_contract$_Factory_$152","typeString":"contract Factory"}},"id":90,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2062:6:0","memberName":"deploy","nodeType":"MemberAccess","referencedDeclaration":151,"src":"2054:14:0","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$_t_bytes32_$returns$_t_address_$","typeString":"function (address,bytes32) payable external returns (address)"}},"id":93,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"expression":{"id":91,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2077:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":92,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2081:5:0","memberName":"value","nodeType":"MemberAccess","src":"2077:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"2054:34:0","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_address_$_t_bytes32_$returns$_t_address_$value","typeString":"function (address,bytes32) payable external returns (address)"}},"id":96,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2054:54:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":41,"id":97,"nodeType":"Return","src":"2047:61:0"}]},"documentation":{"id":33,"nodeType":"StructuredDocumentation","src":"701:523:0","text":"@notice Deploy a new wallet instance\n @param _mainModule Address of the main module to be used by the wallet\n @param _salt Salt used to generate the wallet, which is the imageHash of the wallet's configuration.\n @dev It is recommended to not have more than 200 signers as opcode repricing could make transactions impossible to execute as all the signers must be passed for each transaction.\n @dev Only the senderCreator can deploy a wallet.\n @return _contract The address of the deployed wallet"},"functionSelector":"32c02a14","implemented":true,"kind":"function","modifiers":[],"name":"deploy","nameLocation":"1236:6:0","parameters":{"id":38,"nodeType":"ParameterList","parameters":[{"constant":false,"id":35,"mutability":"mutable","name":"_mainModule","nameLocation":"1251:11:0","nodeType":"VariableDeclaration","scope":99,"src":"1243:19:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":34,"name":"address","nodeType":"ElementaryTypeName","src":"1243:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":37,"mutability":"mutable","name":"_salt","nameLocation":"1272:5:0","nodeType":"VariableDeclaration","scope":99,"src":"1264:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":36,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1264:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"1242:36:0"},"returnParameters":{"id":41,"nodeType":"ParameterList","parameters":[{"constant":false,"id":40,"mutability":"mutable","name":"_contract","nameLocation":"1311:9:0","nodeType":"VariableDeclaration","scope":99,"src":"1303:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":39,"name":"address","nodeType":"ElementaryTypeName","src":"1303:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1302:19:0"},"scope":100,"stateMutability":"payable","virtual":false,"visibility":"public"}],"abstract":false,"baseContracts":[],"canonicalName":"ERC4337FactoryWrapper","contractDependencies":[],"contractKind":"contract","documentation":{"id":6,"nodeType":"StructuredDocumentation","src":"146:128:0","text":"@title ERC4337FactoryWrapper\n @author Michael Standen\n @notice A factory wrapper that supports ERC-4337 restrictions."},"fullyImplemented":true,"linearizedBaseContracts":[100],"name":"ERC4337FactoryWrapper","nameLocation":"283:21:0","scope":101,"usedErrors":[8],"usedEvents":[]}],"license":"Apache-2.0"}},"src/Factory.sol":{"id":1,"ast":{"absolutePath":"src/Factory.sol","id":153,"exportedSymbols":{"Factory":[152],"Wallet":[158]},"nodeType":"SourceUnit","src":"39:1084:1","nodes":[{"id":102,"nodeType":"PragmaDirective","src":"39:24:1","nodes":[],"literals":["solidity","^","0.8",".27"]},{"id":103,"nodeType":"ImportDirective","src":"65:22:1","nodes":[],"absolutePath":"src/Wallet.sol","file":"./Wallet.sol","nameLocation":"-1:-1:-1","scope":153,"sourceUnit":159,"symbolAliases":[],"unitAlias":""},{"id":152,"nodeType":"ContractDefinition","src":"195:927:1","nodes":[{"id":111,"nodeType":"ErrorDefinition","src":"270:55:1","nodes":[],"documentation":{"id":105,"nodeType":"StructuredDocumentation","src":"217:50:1","text":"@notice Error thrown when the deployment fails"},"errorSelector":"8caac805","name":"DeployFailed","nameLocation":"276:12:1","parameters":{"id":110,"nodeType":"ParameterList","parameters":[{"constant":false,"id":107,"mutability":"mutable","name":"_mainModule","nameLocation":"297:11:1","nodeType":"VariableDeclaration","scope":111,"src":"289:19:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":106,"name":"address","nodeType":"ElementaryTypeName","src":"289:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":109,"mutability":"mutable","name":"_salt","nameLocation":"318:5:1","nodeType":"VariableDeclaration","scope":111,"src":"310:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":108,"name":"bytes32","nodeType":"ElementaryTypeName","src":"310:7:1","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"288:36:1"}},{"id":151,"nodeType":"FunctionDefinition","src":"741:378:1","nodes":[],"body":{"id":150,"nodeType":"Block","src":"836:283:1","nodes":[],"statements":[{"assignments":[122],"declarations":[{"constant":false,"id":122,"mutability":"mutable","name":"code","nameLocation":"855:4:1","nodeType":"VariableDeclaration","scope":150,"src":"842:17:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":121,"name":"bytes","nodeType":"ElementaryTypeName","src":"842:5:1","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":135,"initialValue":{"arguments":[{"expression":{"id":125,"name":"Wallet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":158,"src":"879:6:1","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Wallet_$158_$","typeString":"type(library Wallet)"}},"id":126,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"886:12:1","memberName":"creationCode","nodeType":"MemberAccess","referencedDeclaration":157,"src":"879:19:1","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"arguments":[{"arguments":[{"id":131,"name":"_mainModule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":114,"src":"916:11:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":130,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"908:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":129,"name":"uint160","nodeType":"ElementaryTypeName","src":"908:7:1","typeDescriptions":{}}},"id":132,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"908:20:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"}],"id":128,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"900:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":127,"name":"uint256","nodeType":"ElementaryTypeName","src":"900:7:1","typeDescriptions":{}}},"id":133,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"900:29:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":123,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"862:3:1","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":124,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"866:12:1","memberName":"encodePacked","nodeType":"MemberAccess","src":"862:16:1","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":134,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"862:68:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"842:88:1"},{"AST":{"nativeSrc":"945:82:1","nodeType":"YulBlock","src":"945:82:1","statements":[{"nativeSrc":"953:68:1","nodeType":"YulAssignment","src":"953:68:1","value":{"arguments":[{"arguments":[],"functionName":{"name":"callvalue","nativeSrc":"974:9:1","nodeType":"YulIdentifier","src":"974:9:1"},"nativeSrc":"974:11:1","nodeType":"YulFunctionCall","src":"974:11:1"},{"arguments":[{"name":"code","nativeSrc":"991:4:1","nodeType":"YulIdentifier","src":"991:4:1"},{"kind":"number","nativeSrc":"997:2:1","nodeType":"YulLiteral","src":"997:2:1","type":"","value":"32"}],"functionName":{"name":"add","nativeSrc":"987:3:1","nodeType":"YulIdentifier","src":"987:3:1"},"nativeSrc":"987:13:1","nodeType":"YulFunctionCall","src":"987:13:1"},{"arguments":[{"name":"code","nativeSrc":"1008:4:1","nodeType":"YulIdentifier","src":"1008:4:1"}],"functionName":{"name":"mload","nativeSrc":"1002:5:1","nodeType":"YulIdentifier","src":"1002:5:1"},"nativeSrc":"1002:11:1","nodeType":"YulFunctionCall","src":"1002:11:1"},{"name":"_salt","nativeSrc":"1015:5:1","nodeType":"YulIdentifier","src":"1015:5:1"}],"functionName":{"name":"create2","nativeSrc":"966:7:1","nodeType":"YulIdentifier","src":"966:7:1"},"nativeSrc":"966:55:1","nodeType":"YulFunctionCall","src":"966:55:1"},"variableNames":[{"name":"_contract","nativeSrc":"953:9:1","nodeType":"YulIdentifier","src":"953:9:1"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":119,"isOffset":false,"isSlot":false,"src":"953:9:1","valueSize":1},{"declaration":116,"isOffset":false,"isSlot":false,"src":"1015:5:1","valueSize":1},{"declaration":122,"isOffset":false,"isSlot":false,"src":"1008:4:1","valueSize":1},{"declaration":122,"isOffset":false,"isSlot":false,"src":"991:4:1","valueSize":1}],"id":136,"nodeType":"InlineAssembly","src":"936:91:1"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":142,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":137,"name":"_contract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":119,"src":"1036:9:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":140,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1057:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":139,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1049:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":138,"name":"address","nodeType":"ElementaryTypeName","src":"1049:7:1","typeDescriptions":{}}},"id":141,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1049:10:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1036:23:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":149,"nodeType":"IfStatement","src":"1032:83:1","trueBody":{"id":148,"nodeType":"Block","src":"1061:54:1","statements":[{"errorCall":{"arguments":[{"id":144,"name":"_mainModule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":114,"src":"1089:11:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":145,"name":"_salt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":116,"src":"1102:5:1","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":143,"name":"DeployFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":111,"src":"1076:12:1","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$_t_bytes32_$returns$_t_error_$","typeString":"function (address,bytes32) pure returns (error)"}},"id":146,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1076:32:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":147,"nodeType":"RevertStatement","src":"1069:39:1"}]}}]},"documentation":{"id":112,"nodeType":"StructuredDocumentation","src":"329:409:1","text":"@notice Deploy a new wallet instance\n @param _mainModule Address of the main module to be used by the wallet\n @param _salt Salt used to generate the wallet, which is the imageHash of the wallet's configuration.\n @dev It is recommended to not have more than 200 signers as opcode repricing could make transactions impossible to execute as all the signers must be passed for each transaction."},"functionSelector":"32c02a14","implemented":true,"kind":"function","modifiers":[],"name":"deploy","nameLocation":"750:6:1","parameters":{"id":117,"nodeType":"ParameterList","parameters":[{"constant":false,"id":114,"mutability":"mutable","name":"_mainModule","nameLocation":"765:11:1","nodeType":"VariableDeclaration","scope":151,"src":"757:19:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":113,"name":"address","nodeType":"ElementaryTypeName","src":"757:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":116,"mutability":"mutable","name":"_salt","nameLocation":"786:5:1","nodeType":"VariableDeclaration","scope":151,"src":"778:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":115,"name":"bytes32","nodeType":"ElementaryTypeName","src":"778:7:1","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"756:36:1"},"returnParameters":{"id":120,"nodeType":"ParameterList","parameters":[{"constant":false,"id":119,"mutability":"mutable","name":"_contract","nameLocation":"825:9:1","nodeType":"VariableDeclaration","scope":151,"src":"817:17:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":118,"name":"address","nodeType":"ElementaryTypeName","src":"817:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"816:19:1"},"scope":152,"stateMutability":"payable","virtual":false,"visibility":"public"}],"abstract":false,"baseContracts":[],"canonicalName":"Factory","contractDependencies":[],"contractKind":"contract","documentation":{"id":104,"nodeType":"StructuredDocumentation","src":"89:106:1","text":"@title Factory\n @author Agustin Aguilar, Michael Standen\n @notice Factory for deploying wallets"},"fullyImplemented":true,"linearizedBaseContracts":[152],"name":"Factory","nameLocation":"204:7:1","scope":153,"usedErrors":[111],"usedEvents":[]}],"license":"Apache-2.0"}},"src/Wallet.sol":{"id":2,"ast":{"absolutePath":"src/Wallet.sol","id":159,"exportedSymbols":{"Wallet":[158]},"nodeType":"SourceUnit","src":"39:2242:2","nodes":[{"id":154,"nodeType":"PragmaDirective","src":"39:23:2","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":158,"nodeType":"ContractDefinition","src":"2114:166:2","nodes":[{"id":157,"nodeType":"VariableDeclaration","src":"2134:142:2","nodes":[],"constant":true,"mutability":"constant","name":"creationCode","nameLocation":"2158:12:2","scope":158,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":155,"name":"bytes","nodeType":"ElementaryTypeName","src":"2134:5:2","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":{"hexValue":"6041600e3d396021805130553df33d3d36153402601f57363d3d373d363d30545af43d82803e903d91601f57fd5bf3","id":156,"isConstant":false,"isLValue":false,"isPure":true,"kind":"hexString","lValueRequested":false,"nodeType":"Literal","src":"2177:99:2","typeDescriptions":{"typeIdentifier":"t_stringliteral_a10c2d3efe327c6d046c9fbe53303e89ce60bb19100cbff92695e3e7e56ea1fd","typeString":"literal_string hex\"6041600e3d396021805130553df33d3d36153402601f57363d3d373d363d30545af43d82803e903d91601f57fd5bf3\""}},"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"Wallet","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[158],"name":"Wallet","nameLocation":"2122:6:2","scope":159,"usedErrors":[],"usedEvents":[]}],"license":"Apache-2.0"}}}},"solcLongVersion":"0.8.28","solcVersion":"0.8.28"}