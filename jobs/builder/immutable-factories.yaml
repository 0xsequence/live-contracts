name: "immutable-factories"
version: "1"
description: "Factory contracts for the builder (needed for immutable, as they enforce an operator)"

only_networks:
  - 13371   # Immutable zkEVM Mainnet
  - 13473   # Immutable zkEVM Testnet
  - 15003   # Immutable zkEVM Devnet

actions:
  - name: "erc712-operator-enforced-factory"
    template: "erc-2470"
    arguments:
      salt: "{{salt-zero}}"
      creationCode: 
        type: "constructor-encode"
        arguments:
          creationCode: "{{Contract(./artifacts/ERC721-Operator-Enforced-factory.json).creationCode}}"
          types: ["address"]
          values: ["{{developer-multisig-01}}"]
    output: true

  - name: "erc1155-operator-enforced-factory"
    template: "erc-2470"
    arguments:
      salt: "{{salt-zero}}"
      creationCode: 
        type: "constructor-encode"
        arguments:
          creationCode: "{{Contract(./artifacts/ERC1155-Operator-Enforced-factory.json).creationCode}}"
          types: ["address"]
          values: ["{{developer-multisig-01}}"]
    output: true