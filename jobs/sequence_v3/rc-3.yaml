name: "sequence_v3/rc_3"
version: "1"
description: "Sequence v3 contracts (release candidate 3) (commit df0afedbd9a1f082d27fdc9efe47338488b514e0) (evm paris)"

actions:
  - name: "factory"
    template: "erc-2470"
    arguments:
      salt: "0xd4d338c5d1f6a77bd065d147e9cacd6ac7ed4c6e361a26baf7896a465ed661b4"
      creationCode: "{{Contract(./build-info/rc-3/factory.json:Factory).creationCode}}"
    output: true

  - name: "stage-1-module"
    template: "erc-2470"
    arguments:
      salt: "0x989c994f1a6f6e17d68307ac7b92f9264b24196fcd5cbcf90cd9c80b80e10729"
      creationCode:
        type: "constructor-encode"
        arguments:
          creationCode: "{{Contract(./build-info/rc-3/stage1.json:Stage1Module).creationCode}}"
          types: ["address", "address"]
          values: ["{{factory.address}}", "{{address-zero}}"]
    output: true

  - name: "stage-1-module-4337-07"
    template: "erc-2470"
    arguments:
      salt: "{{salt-zero}}"
      creationCode:
        type: "constructor-encode"
        arguments:
          creationCode: "{{Contract(./build-info/rc-3/stage1.json:Stage1Module).creationCode}}"
          types: ["address", "address"]
          values: ["{{factory.address}}", "{{entrypoint-4337-07}}"]
    output: true

  - name: "stage-2-module"
    depends_on: ["stage-1-module"]
    template: "static"
    arguments:
      value:
        type: "call"
        arguments:
          to: "{{stage-1-module.address}}"
          signature: "STAGE_2_IMPLEMENTATION() returns (address)"
          values: []
    output: true

  - name: "stage-2-module-4337-07"
    depends_on: ["stage-1-module-4337-07"]
    template: "static"
    arguments:
      value:
        type: "call"
        arguments:
          to: "{{stage-1-module-4337-07.address}}"
          signature: "STAGE_2_IMPLEMENTATION() returns (address)"
          values: []
    output: true

  - name: "verify-factory"
    type: "verify-contract"
    depends_on: ["factory"]
    arguments:
      address: "{{factory.address}}"
      contract: "{{Contract(./build-info/rc-3/factory.json:Factory)}}"
    output: false

  - name: "verify-stage-1-module"
    type: "verify-contract"
    depends_on: ["stage-1-module"]
    arguments:
      address: "{{stage-1-module.address}}"
      contract: "{{Contract(./build-info/rc-3/stage1.json:Stage1Module)}}"
      constructorArguments:
        type: "constructor-encode"
        arguments:
          types: ["address", "address"]
          values: ["{{factory.address}}", "{{address-zero}}"]
    output: false

  - name: "verify-stage-2-module"
    type: "verify-contract"
    depends_on: ["stage-1-module"]
    arguments:
      address:
        type: "call"
        arguments:
          to: "{{stage-1-module.address}}"
          signature: "STAGE_2_IMPLEMENTATION() returns (address)"
          values: []
      contract: "{{Contract(./build-info/rc-3/stage1.json:Stage2Module)}}"
      constructorArguments:
        type: "constructor-encode"
        arguments:
          types: ["address"]
          values: ["{{address-zero}}"]
    output: false

  - name: "verify-stage-1-module-4337-07"
    type: "verify-contract"
    depends_on: ["stage-1-module-4337-07"]
    arguments:
      address: "{{stage-1-module-4337-07.address}}"
      contract: "{{Contract(./build-info/rc-3/stage1.json:Stage1Module)}}"
      constructorArguments:
        type: "constructor-encode"
        arguments:
          types: ["address", "address"]
          values: ["{{factory.address}}", "{{entrypoint-4337-07}}"]
    output: false

  - name: "verify-stage-2-module-4337-07"
    type: "verify-contract"
    depends_on: ["stage-1-module-4337-07"]
    arguments:
      address:
        type: "call"
        arguments:
          to: "{{stage-1-module-4337-07.address}}"
          signature: "STAGE_2_IMPLEMENTATION() returns (address)"
          values: []
      contract: "{{Contract(./build-info/rc-3/stage1.json:Stage2Module)}}"
      constructorArguments:
        type: "constructor-encode"
        arguments:
          types: ["address"]
          values: ["{{entrypoint-4337-07}}"]
    output: false

